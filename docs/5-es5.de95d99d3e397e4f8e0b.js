!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0B1/":function(e,i,r){"use strict";r.r(i),r.d(i,"ProjectsModule",(function(){return le}));var o,c=r("ofXK"),a=r("tyNb"),u=r("3Pt+"),s=function e(t){var i,r;if(n(this,e),this.id=null!==(i=t.id)&&void 0!==i?i:function(){throw new Error("id cannot be null or undefined")}(),this.name=null!==(r=t.name)&&void 0!==r?r:function(){throw new Error("id cannot be null or undefined")}(),t.id<=0)throw new Error("id must be greater than 0");this.surfaces=t.surfaces,this.circuits=t.circuits,t.surfaces||(this.surfaces=[]),t.circuits||(this.circuits=[])},b=r("fXoL"),l=((o=function(){function e(){n(this,e),this.key="projects"}return t(e,[{key:"saveProject",value:function(e){var t=this.getProjects();e.id=t.length+1,(t=t.filter((function(t){return t.id!=e.id}))).push(e),localStorage.setItem(this.key,JSON.stringify(t))}},{key:"updateProject",value:function(e){var t=this.getProjects(),n=t.findIndex((function(t){return t.id==e.id}));n>-1&&(t[n]=new s(e),localStorage.setItem(this.key,JSON.stringify(t)))}},{key:"deleteProject",value:function(e){var t=this.getProjects().filter((function(t){return t.id!=e}));t&&localStorage.setItem(this.key,JSON.stringify(t))}},{key:"getProjects",value:function(){var e=localStorage.getItem(this.key);return e?JSON.parse(e):[]}},{key:"getProjectById",value:function(e){var t,n=localStorage.getItem(this.key);return n?null===(t=JSON.parse(n))||void 0===t?void 0:t.find((function(t){return t.id==e})):void 0}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275prov=b.Ib({token:o,factory:o.\u0275fac,providedIn:"root"}),o),m=r("aceb");function d(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",8),b.Zb("click",(function(){return b.nc(n),b.bc().cleanForm()})),b.xc(1,"Cancel"),b.Rb()}}function p(e,t){if(1&e&&(b.Sb(0,"span"),b.Sb(1,"a",17),b.xc(2,"Circuits"),b.Rb(),b.Rb()),2&e){var n=b.bc().$implicit;b.Bb(1),b.hc("routerLink","./circuits/"+n.id)}}function h(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",10),b.Nb(1,"input",11),b.Nb(2,"input",12),b.Sb(3,"button",13),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).editProject(e.id)})),b.xc(4,"Edit"),b.Rb(),b.Sb(5,"button",14),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).deleteProject(e.id)})),b.xc(6,"Delete"),b.Rb(),b.Sb(7,"a",15),b.xc(8,"Surfaces"),b.Rb(),b.vc(9,p,3,1,"span",16),b.Rb()}if(2&e){var i=t.$implicit;b.Bb(1),b.hc("value",i.id),b.Bb(1),b.hc("value",i.name),b.Bb(5),b.hc("routerLink","./surfaces/"+i.id),b.Bb(2),b.hc("ngIf",(null==i.surfaces?null:i.surfaces.length)>0)}}function f(e,t){if(1&e&&(b.Sb(0,"nb-card",2),b.Sb(1,"nb-card-header"),b.xc(2,"Proyects"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"ul"),b.vc(5,h,10,4,"li",9),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(5),b.hc("ngForOf",n.projects)}}var g,v=((g=function(){function e(t,i){n(this,e),this.projectsService=t,this.fb=i}return t(e,[{key:"ngOnInit",value:function(){this.projectForm=this.fb.group({name:["",u.r.required]}),this.projects=this.projectsService.getProjects(),this.isEdit=!1}},{key:"saveProject",value:function(){this.projectForm.invalid?alert("the form is invalid"):(this.isEdit?(this.selectedProject.name=this.projectForm.value.name,this.projectsService.updateProject(new s(this.selectedProject))):this.projectsService.saveProject(this.projectForm.value),this.cleanForm())}},{key:"cleanForm",value:function(){this.isEdit=!1,this.projectForm.controls.name.setValue(""),this.projects=this.projectsService.getProjects()}},{key:"editProject",value:function(e){this.selectedProject=new s(this.projectsService.getProjectById(e)),this.projectForm.patchValue(this.selectedProject),this.isEdit=!0}},{key:"deleteProject",value:function(e){this.projectsService.deleteProject(e),this.cleanForm()}}]),e}()).\u0275fac=function(e){return new(e||g)(b.Mb(l),b.Mb(u.b))},g.\u0275cmp=b.Gb({type:g,selectors:[["projects"]],decls:14,vars:5,consts:[[1,"row"],[1,"col-md-12"],["accent","info",1,"inline-form-card"],[1,"form-inline",3,"formGroup"],["nbInput","","formControlName","name","type","text","placeholder","Project Name","maxlength","100"],["outline","","nbButton","","status","primary",3,"disabled","click"],["outline","","nbButton","","status","danger",3,"click",4,"ngIf"],["accent","info","class","inline-form-card",4,"ngIf"],["outline","","nbButton","","status","danger",3,"click"],["class","form-inline",4,"ngFor","ngForOf"],[1,"form-inline"],["nbInput","","type","text","disabled","",3,"value"],["nbInput","","type","text","disabled","","maxlength","100",3,"value"],["nbButton","","outline","","status","primary",3,"click"],["nbButton","","outline","","status","danger",3,"click"],["nbButton","","outline","","status","info",3,"routerLink"],[4,"ngIf"],["nbButton","","outline","","status","success",3,"routerLink"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"nb-card",2),b.Sb(3,"nb-card-header"),b.xc(4,"Project"),b.Rb(),b.Sb(5,"nb-card-body"),b.Sb(6,"form",3),b.Nb(7,"input",4),b.Sb(8,"button",5),b.Zb("click",(function(){return t.saveProject()})),b.xc(9),b.Rb(),b.vc(10,d,2,0,"button",6),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(11,"div",0),b.Sb(12,"div",1),b.vc(13,f,6,1,"nb-card",7),b.Rb(),b.Rb()),2&e&&(b.Bb(6),b.hc("formGroup",t.projectForm),b.Bb(2),b.hc("disabled",t.projectForm.controls.name.hasError("required")),b.Bb(1),b.yc(t.isEdit?"Update Project":"Save Project"),b.Bb(1),b.hc("ngIf",t.isEdit),b.Bb(3),b.hc("ngIf",(null==t.projects?null:t.projects.length)>0))},directives:[m.j,m.k,m.i,u.s,u.k,u.d,m.v,u.a,u.j,u.c,u.f,m.g,c.m,c.l,a.f],styles:[".form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),g),S=function(e){return e[e.Covered=0]="Covered",e[e.SemiCovered=1]="SemiCovered",e}({}),y=function(e){return e.Minimal="Minimal",e.Medium="Medium",e.High="High",e.Upper="Upper",e}({}),R=function e(t){var i,r,o;if(n(this,e),this.nominalSection=null!==(i=t.nominalSection)&&void 0!==i?i:function(){throw new Error("nominalSection cannot be null or undefined")}(),this.tensionDrop=null!==(r=t.tensionDrop)&&void 0!==r?r:function(){throw new Error("tensionDrop cannot be null or undefined")}(),this.protectionType=null!==(o=t.protectionType)&&void 0!==o?o:function(){throw new Error("protectionType cannot be null or undefined")}(),t.nominalSection<0)throw new Error("numberOfMouths cannot be less than zero");if(t.tensionDrop<0)throw new Error("length cannot be zero or less")},C=function(){function e(t){var i,r,o,c;if(n(this,e),this.name=null!==(i=t.name)&&void 0!==i?i:function(){throw new Error("name cannot be null or undefined")}(),this.circuitType=null!==(r=t.circuitType)&&void 0!==r?r:function(){throw new Error("circuitType cannot be null or undefined")}(),this.numberOfMouths=null!==(o=t.numberOfMouths)&&void 0!==o?o:function(){throw new Error("numberOfMouths cannot be null or undefined")}(),this.length=null!==(c=t.length)&&void 0!==c?c:function(){throw new Error("length cannot be null or undefined")}(),t.numberOfMouths<0)throw new Error("numberOfMouths cannot be less than zero");if(t.length<=0)throw new Error("length cannot be zero or less");t.fix&&(this.fix=t.fix)}return t(e,[{key:"setfix",value:function(e){this.fix=new R(e)}}]),e}(),w=function(e){return e.IUG="IUG",e.TUG="TUG",e.IUE="IUE",e.TUE="TUE",e.LAP="LAP",e}({}),D=function(e){return e.C05="C05",e.C1="C1",e.C2="C2",e.C3="C3",e.C4="C4",e.C6="C6",e.C10="C10",e.C16="C16",e.C20="C20",e.C25="C25",e.C32="C32",e.C40="C40",e.C50="C50",e.C63="C63",e}({}),N=function(){function e(){n(this,e)}return t(e,null,[{key:"protections",get:function(){return[{protectionType:D.C05,protectionValue:.5},{protectionType:D.C1,protectionValue:1},{protectionType:D.C2,protectionValue:2},{protectionType:D.C3,protectionValue:3},{protectionType:D.C4,protectionValue:4},{protectionType:D.C6,protectionValue:6},{protectionType:D.C10,protectionValue:10},{protectionType:D.C16,protectionValue:16},{protectionType:D.C20,protectionValue:20},{protectionType:D.C25,protectionValue:25},{protectionType:D.C32,protectionValue:32},{protectionType:D.C40,protectionValue:40},{protectionType:D.C50,protectionValue:50},{protectionType:D.C63,protectionValue:63}]}}]),e}(),I=function(){function e(){n(this,e)}return t(e,null,[{key:"sectionNominals",get:function(){return[{circuitType:w.LAP,minSectionNominal:4},{circuitType:w.IUG,minSectionNominal:1.5},{circuitType:w.TUG,minSectionNominal:2.5},{circuitType:w.IUE,minSectionNominal:2.5},{circuitType:w.TUE,minSectionNominal:2.5}]}}]),e}(),x=function e(t){var i,r,o,c;if(n(this,e),this.type=null!==(i=t.type)&&void 0!==i?i:function(){throw new Error("type cannot be null or undefined")}(),this.environment=null!==(r=t.environment)&&void 0!==r?r:function(){throw new Error("environment cannot be null or undefined")}(),this.width=null!==(o=t.width)&&void 0!==o?o:function(){throw new Error("width cannot be null or undefined")}(),this.length=null!==(c=t.length)&&void 0!==c?c:function(){throw new Error("length cannot be null or undefined")}(),t.width<=0)throw new Error("width cannot be zero or less");if(t.length<=0)throw new Error("length cannot be zero or less");this.artifacts=t.artifacts,t.artifacts||(this.artifacts=[])},M=function(){function e(){n(this,e)}return t(e,null,[{key:"tecnicalFeatures",get:function(){return[{nominalSection:.75,allowableCurrentIntensityInPipes:8},{nominalSection:1,allowableCurrentIntensityInPipes:10.5},{nominalSection:1.5,allowableCurrentIntensityInPipes:13},{nominalSection:2.5,allowableCurrentIntensityInPipes:18},{nominalSection:4,allowableCurrentIntensityInPipes:25},{nominalSection:6,allowableCurrentIntensityInPipes:32},{nominalSection:10,allowableCurrentIntensityInPipes:44},{nominalSection:16,allowableCurrentIntensityInPipes:59},{nominalSection:25,allowableCurrentIntensityInPipes:77},{nominalSection:35,allowableCurrentIntensityInPipes:96},{nominalSection:50,allowableCurrentIntensityInPipes:117},{nominalSection:70,allowableCurrentIntensityInPipes:149},{nominalSection:95,allowableCurrentIntensityInPipes:180},{nominalSection:120,allowableCurrentIntensityInPipes:208}]}}]),e}(),E=function(){function e(){n(this,e)}return t(e,null,[{key:"tensionDrops",get:function(){return[{circuitType:w.LAP,maxTensionDrop:1},{circuitType:w.IUG,maxTensionDrop:2},{circuitType:w.TUG,maxTensionDrop:2},{circuitType:w.IUE,maxTensionDrop:2},{circuitType:w.TUE,maxTensionDrop:2}]}}]),e}(),A=function(){function e(t){n(this,e),this._circuit=t}return t(e,[{key:"getCircuit",value:function(){return new C(this._circuit)}},{key:"isLap",value:function(){return this._circuit.circuitType==w.LAP}},{key:"maxNumberOfMouths",value:function(){switch(this._circuit.circuitType){case w.IUG:case w.TUG:return 15;case w.IUE:case w.TUE:return 12;default:return 0}}},{key:"powerLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(e||(e=this._circuit.circuitType),e){case w.IUG:return 810;case w.TUG:return 1980;case w.IUE:case w.TUE:return 2970;default:return 0}}},{key:"factorLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(e||(e=this._circuit.circuitType),e){case w.IUG:return.66;case w.TUG:case w.IUE:case w.TUE:return 1;default:return 0}}},{key:"circuitSubtotal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return parseFloat((this.powerLoad(e)*this.factorLoad(e)).toFixed(2))}},{key:"currentCalculated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return parseFloat((this.powerLoad(e)/198).toFixed(2))}}]),e}(),O=function e(t){var i,r,o,c,a,u;if(n(this,e),this.name=null!==(i=t.name)&&void 0!==i?i:function(){throw new Error("name cannot be null or undefined")}(),this.powerConsumption=null!==(r=t.powerConsumption)&&void 0!==r?r:function(){throw new Error("powerConsumption cannot be null or undefined")}(),this.summerDay=null!==(o=t.summerDay)&&void 0!==o?o:function(){throw new Error("summerDay cannot be null or undefined")}(),this.summerNight=null!==(c=t.summerNight)&&void 0!==c?c:function(){throw new Error("summerNight cannot be null or undefined")}(),this.winterDay=null!==(a=t.winterDay)&&void 0!==a?a:function(){throw new Error("winterDay cannot be null or undefined")}(),this.winterNight=null!==(u=t.winterNight)&&void 0!==u?u:function(){throw new Error("winterNight cannot be null or undefined")}(),t.powerConsumption<=0)throw new Error("powerConsumption cannot be zero or less")},k=function(){function e(t){n(this,e),this._surface=t}return t(e,[{key:"getSurface",value:function(){return this._surface}},{key:"totalConsumition",value:function(){return this._surface.artifacts.reduce((function(e,t){return t.summerDay&&(e.summerDayConsumptionDetermined+=t.powerConsumption),t.summerNight&&(e.summerNightConsumptionDetermined+=t.powerConsumption),t.winterDay&&(e.winterDayConsumptionDetermined+=t.powerConsumption),t.winterNight&&(e.winterNightConsumptionDetermined+=t.powerConsumption),e}),{summerDayConsumptionDetermined:0,summerNightConsumptionDetermined:0,winterDayConsumptionDetermined:0,winterNightConsumptionDetermined:0})}},{key:"addArtifact",value:function(e,t,n,i,r,o){if(this.getArtifact(e))throw new Error("Artifact already exists");var c=new O({name:e,powerConsumption:t,summerDay:n,summerNight:i,winterDay:r,winterNight:o});this._surface.artifacts.push(c)}},{key:"udpateArtifact",value:function(e){if(!this.existArtifact(e.name))throw new Error("Surface does not exist");var t=this.getIndexArtifact(e.name);this._surface.artifacts[t]=e}},{key:"deleteArtifact",value:function(e){if(!this.existArtifact(e))throw new Error("Circuit does not exist");var t=this.getIndexArtifact(e);this._surface.artifacts.splice(t,1)}},{key:"getArtifact",value:function(e){return this._surface.artifacts.find((function(t){return t.name==e}))}},{key:"existArtifact",value:function(e){return this._surface.artifacts.some((function(t){return t.name==e}))}},{key:"getIndexArtifact",value:function(e){return this._surface.artifacts.findIndex((function(t){return t.name==e}))}}]),e}(),P=function(){function e(t,i){n(this,e),this._projectService=i,this._project=this._projectService.getProjectById(t)}return t(e,[{key:"surfaceManager",value:function(e){var t=this.getSurface(e);return new k(t)}},{key:"circuitManager",value:function(e){var t=this.getCircuit(e);return new A(t)}},{key:"getProject",value:function(){return this._project}},{key:"addSurface",value:function(e,t,n,i){if(this.getSurface(t))throw new Error("Surface already exists");var r=new x({type:e,environment:t,width:n,length:i});this._project.surfaces||(this._project.surfaces=[]),this._project.surfaces.push(r),this.updateProject()}},{key:"udpateSurface",value:function(e){if(!this.existSurface(e.environment))throw new Error("Surface does not exist");var t=this.getIndexSurface(e.environment);this._project.surfaces[t]=e,this.updateProject()}},{key:"deleteSurface",value:function(e){if(!this.existSurface(e))throw new Error("Surface does not exist");var t=this.getIndexSurface(e);this._project.surfaces.splice(t,1),this.updateProject()}},{key:"getSurface",value:function(e){var t;return null===(t=this._project.surfaces)||void 0===t?void 0:t.find((function(t){return t.environment==e}))}},{key:"existSurface",value:function(e){return this._project.surfaces.some((function(t){return t.environment==e}))}},{key:"getIndexSurface",value:function(e){return this._project.surfaces.findIndex((function(t){return t.environment==e}))}},{key:"addCircuit",value:function(e,t,n,i){if(this.getCircuit(e))throw new Error("Circuit already exists");var r=new C({name:e,circuitType:t,numberOfMouths:n,length:i});if(t==w.LAP)this._project.circuits.push(r);else{var o=this._project.circuits.findIndex((function(e){return e.circuitType==w.LAP}));-1==o?this._project.circuits.push(r):this._project.circuits.splice(o,0,r)}this.updateProject()}},{key:"udpateCircuit",value:function(e){if(!this.existCircuit(e.name))throw new Error("Circuit does not exist");var t=this.getIndexCircuit(e.name);this._project.circuits[t]=e,this.updateProject()}},{key:"deleteCircuit",value:function(e){if(!this.existCircuit(e))throw new Error("Circuit does not exist");var t=this.getIndexCircuit(e);this._project.circuits.splice(t,1),this.updateProject()}},{key:"getCircuit",value:function(e){return new C(this._project.circuits.find((function(t){return t.name==e})))}},{key:"existCircuit",value:function(e){return this._project.circuits.some((function(t){return t.name==e}))}},{key:"getIndexCircuit",value:function(e){return this._project.circuits.findIndex((function(t){return t.name==e}))}},{key:"totalSurfaceCovered",value:function(){return this._project.surfaces.reduce((function(e,t){return t.type==S.Covered?e+parseFloat((t.width*t.length).toFixed(2)):e+0}),0)}},{key:"totalSurfaceSemiCovered",value:function(){return this._project.surfaces.reduce((function(e,t){return t.type==S.SemiCovered?e+parseFloat((t.width*t.length).toFixed(2)):e+0}),0)}},{key:"totalSurface",value:function(){return this.totalSurfaceCovered()+this.totalSurfaceSemiCovered()/2}},{key:"apparentPower",value:function(){var e=this.calculateMaximumConsumptionDetermined();return parseFloat((e/.9/1e3).toFixed(2))}},{key:"electrificationDegree",value:function(){return this.totalSurface()<=60&&this.apparentPower()<=3.7?y.Minimal:this.totalSurface()<=130&&this.apparentPower()<=7?y.Medium:this.totalSurface()<=200&&this.apparentPower()<=11?y.High:y.Upper}},{key:"simultaneityCoefficientDetermined",value:function(){switch(this.electrificationDegree()){case y.Minimal:return 1;case y.Medium:return.9;case y.High:return.8;case y.Upper:return.7;default:return 0}}},{key:"circuitsByelectrificationDegree",value:function(){var e=[];switch(this.electrificationDegree()){case y.Minimal:case y.Medium:e.push(w.IUG),e.push(w.TUG);break;case y.High:default:e.push(w.IUG),e.push(w.IUG),e.push(w.TUG),e.push(w.TUG),e.push(w.TUE)}return e}},{key:"calculateMaximumConsumptionDetermined",value:function(){var e=0,t=this.calculateAllSurfaceConsumption();return t.summerDayConsumptionDetermined>=e&&(e=t.summerDayConsumptionDetermined),t.summerNightConsumptionDetermined>=e&&(e=t.summerNightConsumptionDetermined),t.winterDayConsumptionDetermined>=e&&(e=t.winterDayConsumptionDetermined),t.winterNightConsumptionDetermined>=e&&(e=t.winterNightConsumptionDetermined),e}},{key:"circuitLAPTotal",value:function(){var e=this,t=this._project.circuits.filter((function(e){return e.circuitType!=w.LAP})).reduce((function(t,n){var i=e.circuitManager(n.name);return t+parseFloat((i.powerLoad()*i.factorLoad()).toFixed(2))}),0);return Math.ceil(parseFloat((t*this.simultaneityCoefficientDetermined()).toFixed(2)))}},{key:"currentCalculatedLAP",value:function(){return parseFloat((this.circuitLAPTotal()/198).toFixed(2))}},{key:"calcuteTensionDrop",value:function(e,t,n){var i=Math.pow(220,2);return parseFloat((200*n*e/(47.5*i*t)).toFixed(2))}},{key:"validateNominalSection",value:function(e,t,n,i,r,o){if(I.sectionNominals.find((function(e){return e.circuitType==t})),this.calcuteTensionDrop(n,i,r)>=E.tensionDrops.find((function(e){return e.circuitType==t})).maxTensionDrop){var c=e.filter((function(e){return e.nominalSection>i}));return this.validateNominalSection(c,t,n,c[0].nominalSection,r,!1)}return i}},{key:"calculateProtection",value:function(e){var t=e;return N.protections.find((function(e){return t<e.protectionValue}))}},{key:"nominalSectionByCurrentIntensity",value:function(e){return M.tecnicalFeatures.find((function(t){return e<=t.allowableCurrentIntensityInPipes})).nominalSection}},{key:"calculateAllSurfaceConsumption",value:function(){var e=this;return this._project.surfaces.reduce((function(t,n){new x(n);var i=e.surfaceManager(n.environment);return t.summerDayConsumptionDetermined+=i.totalConsumition().summerDayConsumptionDetermined,t.summerNightConsumptionDetermined+=i.totalConsumition().summerNightConsumptionDetermined,t.winterDayConsumptionDetermined+=i.totalConsumition().winterDayConsumptionDetermined,t.winterNightConsumptionDetermined+=i.totalConsumition().winterNightConsumptionDetermined,t}),{summerDayConsumptionDetermined:0,summerNightConsumptionDetermined:0,winterDayConsumptionDetermined:0,winterNightConsumptionDetermined:0})}},{key:"updateProject",value:function(){this._projectService.updateProject(this._project)}}]),e}();function T(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",15),b.Zb("click",(function(){return b.nc(n),b.bc().cleanForm()})),b.xc(1,"Cancel"),b.Rb()}}function j(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",17),b.Nb(1,"input",18),b.Nb(2,"input",19),b.Nb(3,"input",20),b.Nb(4,"input",21),b.Sb(5,"button",22),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).editSurface(e.environment)})),b.xc(6,"Edit"),b.Rb(),b.Sb(7,"button",23),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).deleteSurface(e.environment)})),b.xc(8,"Delete"),b.Rb(),b.Sb(9,"a",3),b.xc(10,"Artifacts"),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.bc(2);b.Bb(1),b.hc("value",i.environment),b.Bb(1),b.hc("value",i.width),b.Bb(1),b.hc("value",i.length),b.Bb(1),b.hc("value",(i.width*i.length).toFixed(2)),b.Bb(5),b.hc("routerLink","../../artifacts/"+r.project().id+"/"+i.environment)}}function B(e,t){if(1&e&&(b.Sb(0,"nb-card",2),b.Sb(1,"nb-card-header"),b.xc(2,"Surfaces Covered"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"ul"),b.vc(5,j,11,5,"li",16),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(5),b.hc("ngForOf",n.coveredSurfaces())}}function F(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",17),b.Nb(1,"input",18),b.Nb(2,"input",24),b.Nb(3,"input",25),b.Nb(4,"input",21),b.Sb(5,"button",22),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).editSurface(e.environment)})),b.xc(6,"Edit"),b.Rb(),b.Sb(7,"button",23),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).deleteSurface(e.environment)})),b.xc(8,"Delete"),b.Rb(),b.Sb(9,"a",3),b.xc(10,"Artifacts"),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.bc(2);b.Bb(1),b.hc("value",i.environment),b.Bb(1),b.hc("value",i.width),b.Bb(1),b.hc("value",i.length),b.Bb(1),b.hc("value",(i.width*i.length).toFixed(2)),b.Bb(5),b.hc("routerLink","../../artifacts/"+r.project().id+"/"+i.environment)}}function _(e,t){if(1&e&&(b.Sb(0,"nb-card",2),b.Sb(1,"nb-card-header"),b.xc(2,"Surfaces Semi Covered"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"ul"),b.vc(5,F,11,5,"li",16),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(5),b.hc("ngForOf",n.semiCoveredSurfaces())}}function L(e,t){if(1&e&&(b.Sb(0,"span"),b.Sb(1,"a",44),b.xc(2,"Circuits"),b.Rb(),b.Rb()),2&e){var n=b.bc(2);b.Bb(1),b.hc("routerLink","../../circuits/"+n.project().id)}}function V(e,t){if(1&e&&(b.Sb(0,"div",45),b.Sb(1,"div",46),b.Nb(2,"input",47),b.Rb(),b.Rb()),2&e){var n=t.$implicit;b.Bb(2),b.hc("placeholder",n)("value",n)}}function U(e,t){if(1&e&&(b.Sb(0,"nb-card",26),b.Sb(1,"nb-card-header"),b.xc(2,"Totals"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"div",27),b.Sb(5,"div",28),b.Sb(6,"div",29),b.Sb(7,"div",28),b.Sb(8,"span"),b.xc(9,"Covered Surface: "),b.Rb(),b.Rb(),b.Sb(10,"div",30),b.Nb(11,"input",31),b.Rb(),b.Rb(),b.Sb(12,"div",29),b.Sb(13,"div",28),b.Sb(14,"span",32),b.xc(15,"Semi Covered Surface: "),b.Rb(),b.Rb(),b.Sb(16,"div",30),b.Nb(17,"input",33),b.Rb(),b.Rb(),b.Sb(18,"div",29),b.Sb(19,"div",28),b.Sb(20,"span",32),b.xc(21,"Semi Covered Surface 50%: "),b.Rb(),b.Rb(),b.Sb(22,"div",30),b.Nb(23,"input",34),b.Rb(),b.Rb(),b.Sb(24,"div",29),b.Sb(25,"div",28),b.Sb(26,"span",32),b.xc(27,"Total Surface [m2]: "),b.Rb(),b.Rb(),b.Sb(28,"div",30),b.Nb(29,"input",21),b.Rb(),b.Rb(),b.Sb(30,"div",29),b.Sb(31,"div",28),b.Sb(32,"span",32),b.xc(33,"Maximum Consumption Determined [W]: "),b.Rb(),b.Rb(),b.Sb(34,"div",30),b.Nb(35,"input",35),b.Rb(),b.Rb(),b.Sb(36,"div",29),b.Sb(37,"div",28),b.Sb(38,"span",32),b.xc(39,"Apparent Power [KVA]: "),b.Rb(),b.Rb(),b.Sb(40,"div",30),b.Nb(41,"input",36),b.Rb(),b.Rb(),b.Sb(42,"div",29),b.Sb(43,"div",28),b.Sb(44,"span",32),b.xc(45,"Degree of electrification: "),b.Rb(),b.Rb(),b.Sb(46,"div",30),b.Nb(47,"input",37),b.Rb(),b.Rb(),b.Rb(),b.Sb(48,"div",30),b.Sb(49,"div",0),b.Sb(50,"div",1),b.Sb(51,"nb-card",38),b.Sb(52,"nb-card-header"),b.xc(53,"Degrees of electrification"),b.Rb(),b.Sb(54,"nb-card-body"),b.Sb(55,"table"),b.Sb(56,"thead"),b.Sb(57,"tr"),b.Sb(58,"th",39),b.xc(59,"Degree of electrification"),b.Rb(),b.Sb(60,"th",40),b.xc(61,"Surface (Application limit)"),b.Rb(),b.Sb(62,"th",41),b.xc(63,"Calculated maximum simultaneous power demand (only to determine the degree of electrification)"),b.Rb(),b.Rb(),b.Rb(),b.Sb(64,"tbody"),b.Sb(65,"tr"),b.Sb(66,"td"),b.xc(67," Minimal "),b.Rb(),b.Sb(68,"td"),b.xc(69," <= 60 m2 "),b.Rb(),b.Sb(70,"td"),b.xc(71," <= 3,7 kVA "),b.Rb(),b.Rb(),b.Sb(72,"tr"),b.Sb(73,"td"),b.xc(74," Medium "),b.Rb(),b.Sb(75,"td"),b.xc(76," > 60 m2 && <= 130 m2 "),b.Rb(),b.Sb(77,"td"),b.xc(78," <= 7 kVA "),b.Rb(),b.Rb(),b.Sb(79,"tr"),b.Sb(80,"td"),b.xc(81," High "),b.Rb(),b.Sb(82,"td"),b.xc(83," > 130 m2 && <= 200 m2 "),b.Rb(),b.Sb(84,"td"),b.xc(85," <= 11 kVA "),b.Rb(),b.Rb(),b.Sb(86,"tr"),b.Sb(87,"td"),b.xc(88," Upper "),b.Rb(),b.Sb(89,"td"),b.xc(90," > 200 m2 "),b.Rb(),b.Sb(91,"td"),b.xc(92," > 11 kVA "),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(93,"div",0),b.Sb(94,"div",1),b.Sb(95,"nb-card",38),b.Sb(96,"nb-card-header"),b.xc(97," Minimal circuits according to degree of electrification "),b.vc(98,L,3,1,"span",42),b.Rb(),b.Sb(99,"nb-card-body",17),b.vc(100,V,3,2,"div",43),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(11),b.hc("value",n.totals.totalSurfaceCovered),b.Bb(6),b.hc("value",n.totals.totalSurfaceSemiCovered),b.Bb(6),b.hc("value",n.totals.totalSurfaceSemiCovered/2),b.Bb(6),b.hc("value",n.totals.totalSurface),b.Bb(6),b.hc("value",n.totals.calculateMaximumConsumptionDetermined),b.Bb(6),b.hc("value",n.totals.apparentPower),b.Bb(6),b.hc("value",n.totals.electrificationDegree),b.Bb(18),b.sc(n.isMinimalElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(7),b.sc(n.isMediumElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(7),b.sc(n.isHighElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(7),b.sc(n.isUpperElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(12),b.hc("ngIf",(null==n.project().surfaces?null:n.project().surfaces.length)>0),b.Bb(2),b.hc("ngForOf",n.circuitsByelectrificationDegree)}}var G,H=((G=function(){function e(t,i,r){n(this,e),this.projectsService=t,this.fb=i,this.activatedRoute=r}return t(e,[{key:"ngOnInit",value:function(){this.surfaceForm=this.fb.group({type:["",u.r.required],environment:["",u.r.required],width:["",u.r.required],length:["",u.r.required]}),this._projectManager=new P(parseInt(this.activatedRoute.snapshot.params.projectId),this.projectsService),this.isEdit=!1}},{key:"project",value:function(){return this._projectManager.getProject()}},{key:"saveSurface",value:function(){if(this.surfaceForm.invalid)alert("the form is invalid");else{if(this.isEdit){var e=this.surfaceForm.value;this.selectedSurface.type=e.type,this.selectedSurface.width=e.width,this.selectedSurface.length=e.length,this._projectManager.udpateSurface(this.selectedSurface)}else{var t=this.surfaceForm.value;this._projectManager.addSurface(t.type,t.environment,t.width,t.length)}this.cleanForm()}}},{key:"cleanForm",value:function(){this.isEdit=!1,this.surfaceForm.controls.type.setValue(""),this.surfaceForm.controls.environment.setValue(""),this.surfaceForm.controls.width.setValue(""),this.surfaceForm.controls.length.setValue(""),this._projectManager=new P(this._projectManager.getProject().id,this.projectsService)}},{key:"editSurface",value:function(e){this.selectedSurface=this._projectManager.getSurface(e),this.surfaceForm.patchValue(this.selectedSurface),this.isEdit=!0}},{key:"deleteSurface",value:function(e){this._projectManager.deleteSurface(e),this.projectsService.updateProject(this._projectManager.getProject()),this.cleanForm()}},{key:"isFormInvalid",value:function(){return this.surfaceForm.controls.type.hasError("required")||this.surfaceForm.controls.environment.hasError("required")||this.surfaceForm.controls.width.hasError("required")||this.surfaceForm.controls.length.hasError("required")}},{key:"coveredSurfaces",value:function(){return(this._projectManager.getProject().surfaces||[]).filter((function(e){return e.type==S.Covered}))}},{key:"semiCoveredSurfaces",value:function(){return(this._projectManager.getProject().surfaces||[]).filter((function(e){return e.type==S.SemiCovered}))}},{key:"isMinimalElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Minimal}},{key:"isMediumElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Medium}},{key:"isHighElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.High}},{key:"isUpperElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Upper}},{key:"circuitsByelectrificationDegree",get:function(){return this._projectManager.circuitsByelectrificationDegree()}},{key:"totals",get:function(){return{totalSurfaceCovered:this._projectManager.totalSurfaceCovered(),totalSurfaceSemiCovered:this._projectManager.totalSurfaceSemiCovered(),totalSurface:this._projectManager.totalSurface(),calculateMaximumConsumptionDetermined:this._projectManager.calculateMaximumConsumptionDetermined(),apparentPower:this._projectManager.apparentPower(),electrificationDegree:this._projectManager.electrificationDegree()}}}]),e}()).\u0275fac=function(e){return new(e||G)(b.Mb(l),b.Mb(u.b),b.Mb(a.a))},G.\u0275cmp=b.Gb({type:G,selectors:[["surfaces"]],decls:29,vars:9,consts:[[1,"row"],[1,"col-md-12"],["accent","info",1,"inline-form-card"],["nbButton","","outline","","status","info",3,"routerLink"],[1,"form-inline",3,"formGroup"],["placeholder","Choose a surface type","formControlName","type"],["value","0"],["value","1"],["nbInput","","formControlName","environment","type","text","placeholder","Environment","maxlength","100",3,"readonly"],["nbInput","","formControlName","width","type","number","placeholder","Width [m]"],["nbInput","","formControlName","length","type","number","placeholder","Length [m]"],["outline","","nbButton","","status","primary",3,"disabled","click"],["outline","","nbButton","","status","danger",3,"click",4,"ngIf"],["accent","info","class","inline-form-card",4,"ngIf"],["accent","info",4,"ngIf"],["outline","","nbButton","","status","danger",3,"click"],["class","form-inline",4,"ngFor","ngForOf"],[1,"form-inline"],["nbInput","","disabled","","type","text","placeholder","Environment",3,"value"],["nbInput","","disabled","","type","number","placeholder","Width [m]",3,"value"],["nbInput","","disabled","","type","number","placeholder","Length [m]",3,"value"],["nbInput","","disabled","","type","number","placeholder","Surface [m2]",3,"value"],["nbButton","","outline","","status","primary",3,"click"],["nbButton","","outline","","status","danger",3,"click"],["nbInput","","disabled","","type","number","placeholder","Width",3,"value"],["nbInput","","disabled","","type","number","placeholder","Length",3,"value"],["accent","info"],[1,"form-group","row","form-horizontal"],[1,"col-md-5"],[1,"form-group","row"],[1,"col-md-7"],["nbInput","","disabled","","type","number","placeholder","Surface Covered [m2]",3,"value"],[1,"text"],["nbInput","","disabled","","type","number","placeholder","Surface Semi Covered [m2]",3,"value"],["nbInput","","disabled","","type","number","placeholder","Surface Semi Covered %50 [m2]",3,"value"],["nbInput","","disabled","","type","number","placeholder","Maximum Consumption Determined [W]",3,"value"],["nbInput","","disabled","","type","number","placeholder","Apparent Power [KVA]",3,"value"],["nbInput","","disabled","","type","text","placeholder","Apparent Power [KVA]",3,"value"],["accent","danger"],[2,"width","20%"],[2,"width","40%"],[2,"width","60%"],[4,"ngIf"],["class","row inline-form-card",4,"ngFor","ngForOf"],["nbButton","","outline","","status","success",3,"routerLink"],[1,"row","inline-form-card"],[1,"col-md-2"],["nbInput","","disabled","","type","text",3,"placeholder","value"]],template:function(e,t){var n,i;1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"nb-card",2),b.Sb(3,"nb-card-header"),b.xc(4,"Surface "),b.Sb(5,"a",3),b.xc(6,"Back to Proyects"),b.Rb(),b.Rb(),b.Sb(7,"nb-card-body"),b.Sb(8,"form",4),b.Sb(9,"nb-select",5),b.Sb(10,"nb-option",6),b.xc(11,"Covered"),b.Rb(),b.Sb(12,"nb-option",7),b.xc(13,"Semi-Covered"),b.Rb(),b.Rb(),b.Nb(14,"input",8),b.Nb(15,"input",9),b.Nb(16,"input",10),b.Sb(17,"button",11),b.Zb("click",(function(){return t.saveSurface()})),b.xc(18),b.Rb(),b.vc(19,T,2,0,"button",12),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(20,"div",0),b.Sb(21,"div",1),b.vc(22,B,6,1,"nb-card",13),b.Rb(),b.Rb(),b.Sb(23,"div",0),b.Sb(24,"div",1),b.vc(25,_,6,1,"nb-card",13),b.Rb(),b.Rb(),b.Sb(26,"div",0),b.Sb(27,"div",1),b.vc(28,U,101,17,"nb-card",14),b.Rb(),b.Rb()),2&e&&(b.Bb(5),b.hc("routerLink","../../../projects"),b.Bb(3),b.hc("formGroup",t.surfaceForm),b.Bb(6),b.hc("readonly",t.isEdit),b.Bb(3),b.hc("disabled",t.isFormInvalid()),b.Bb(1),b.yc(t.isEdit?"Update Surface":"Save Surface"),b.Bb(1),b.hc("ngIf",t.isEdit),b.Bb(3),b.hc("ngIf",(null==(n=t.coveredSurfaces())?null:n.length)>0),b.Bb(3),b.hc("ngIf",(null==(i=t.semiCoveredSurfaces())?null:i.length)>0),b.Bb(3),b.hc("ngIf",(null==t.project().surfaces?null:t.project().surfaces.length)>0))},directives:[m.j,m.k,m.g,a.f,m.i,u.s,u.k,u.d,m.K,u.j,u.c,m.I,m.v,u.a,u.f,u.n,c.m,c.l],styles:[".form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}span.text[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}span.text[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #13132b;padding:.5rem 1rem;margin:0 1.5rem 1.5rem 0}"]}),G),z=function(){function e(t){n(this,e),this._artifact=t}return t(e,[{key:"getArtifact",value:function(){return this._artifact}}],[{key:"commonArtifacts",get:function(){return[{name:"AFEITADORA",powerConsumption:5,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 2200 FRIGOR\xcdAS F/C",powerConsumption:1350,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 3500 FRIGOR\xcdAS F/C",powerConsumption:2150,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 4500 FRIGOR\xcdAS F/C",powerConsumption:2800,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 2200 FRIGOR\xcdAS F/C - INVERTER",powerConsumption:877.5,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 3500 FRIGOR\xcdAS F/C - INVERTER",powerConsumption:1397.5,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"AIRE ACONDICIONADO DE 4500 FRIGOR\xcdAS F/C - INVERTER",powerConsumption:1820,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 120 MM DE DI\xc1METRO",powerConsumption:750,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 140 MM DE DI\xc1METRO",powerConsumption:1250,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 175 MM DE DI\xc1METRO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 200 MM DE DI\xc1METRO",powerConsumption:1800,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 215 MM DE DI\xc1METRO",powerConsumption:2110,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE VITROCER\xc1MICA CON HORNALLA DE 220 MM DE DI\xc1METRO",powerConsumption:2350,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE RESISTIVO CON HORNALLA DE 150 MM DE DI\xc1METRO",powerConsumption:1e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ANAFE RESISTIVO CON HORNALLA DE 190 MM DE DI\xc1METRO",powerConsumption:2e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ASPIRADORA",powerConsumption:1200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"BATIDORA DE MANO",powerConsumption:300,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"BOMBA DE AGUA DE 1/2 HP",powerConsumption:380,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"BOMBA DE AGUA DE 3/4 HP",powerConsumption:570,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"CAFETERA DE FILTRO EL\xc9CTRICA",powerConsumption:900,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"CALOVENTILADOR CHICO C/TERMOSTATO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"CARGADOR DE CELULAR GEN\xc9RICO",powerConsumption:5,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"COMPUTADORA (S\xd3LO LA CPU)",powerConsumption:200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"EXTRACTOR DE AIRE PARA COCINA O BA\xd1O - 80 M3/HORA",powerConsumption:12,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"EXTRACTOR DE AIRE PARA COCINA O BA\xd1O - 200 M3/HORA",powerConsumption:20,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"EXTRACTOR DE AIRE PARA COCINA O BA\xd1O - 1200 M3/HORA",powerConsumption:50,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ESTUFA HAL\xd3GENA DE 3 VELAS C/TERMOSTATO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"ESTUFA DE CUARZO C/TERMOSTATO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"FREEZER",powerConsumption:250,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"HELADERA",powerConsumption:150,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"HELADERA CON FREEZER",powerConsumption:200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"HELADERA CON FREEZER - INVERTER",powerConsumption:200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"HORNO EL\xc9CTRICO DE 25 A 30 LITROS C/TERMOSTATO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"HORNO EL\xc9CTRICO DE 73 LITROS C/TERMOSTATO, PARA EMPOTRAR",powerConsumption:2450,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA DE BAJO CONSUMO DE 11W",powerConsumption:11,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA DE BAJO CONSUMO DE 15W",powerConsumption:15,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA DE BAJO CONSUMO DE 20W",powerConsumption:20,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA HAL\xd3GENA DE 100 W",powerConsumption:100,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA HAL\xd3GENA DE 40 W",powerConsumption:40,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA HAL\xd3GENA DE 60 W",powerConsumption:60,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA LED DE 5 W",powerConsumption:5,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA LED DE 7 W",powerConsumption:7,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA LED DE 9 W",powerConsumption:9,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"L\xc1MPARA LED DE 12 W",powerConsumption:12,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"LICUADORA",powerConsumption:400,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"MICROONDAS 800 W",powerConsumption:800,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"MINIPIMER",powerConsumption:400,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"PARRILLA EL\xc9CTRICA 2000 W",powerConsumption:2e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"PAVA EL\xc9CTRICA",powerConsumption:1e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"PLANCHA PARA ROPA",powerConsumption:1e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"PLANCHA PARA ROPA A VAPOR",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"PULIDORA",powerConsumption:200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"RADIO",powerConsumption:15,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"SECADOR DE PELO",powerConsumption:1e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"SOMMIER C/LEVANTACOLCH\xd3N",powerConsumption:130,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"SPOT DICROICA 50 W",powerConsumption:50,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"TELEVISOR DE 42''",powerConsumption:200,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"TOSTADORA",powerConsumption:1e3,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"TURBO CALOVENTILADOR CHICO C/TERMOSTATO",powerConsumption:1500,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"VENTILADOR DE MESA CHICO",powerConsumption:55,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1},{name:"VENTILADOR DE PIE GRANDE",powerConsumption:110,summerDay:!1,summerNight:!1,winterDay:!1,winterNight:!1}]}}]),e}();function q(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",19),b.Nb(1,"input",20),b.Nb(2,"input",21),b.Sb(3,"nb-toggle",22),b.xc(4,"Consume In Summer Day"),b.Rb(),b.Sb(5,"nb-toggle",22),b.xc(6,"Consume In Summer Night"),b.Rb(),b.Sb(7,"nb-toggle",22),b.xc(8,"Consume In Winter Day"),b.Rb(),b.Sb(9,"nb-toggle",22),b.xc(10,"Consume In Winter Night"),b.Rb(),b.Sb(11,"button",23),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).editArtifact(e.name)})),b.xc(12,"Edit"),b.Rb(),b.Sb(13,"button",24),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).deleteArtifact(e.name)})),b.xc(14,"Delete"),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.bc(2);b.Bb(1),b.hc("value",i.name),b.Bb(1),b.hc("value",i.powerConsumption),b.Bb(1),b.hc("checked",i.summerDay),b.Bb(2),b.hc("checked",i.summerNight),b.Bb(2),b.hc("checked",i.winterDay),b.Bb(2),b.hc("checked",i.winterNight),b.Bb(2),b.hc("disabled",r.isEdit),b.Bb(2),b.hc("disabled",r.isEdit)}}function W(e,t){if(1&e&&(b.Sb(0,"nb-card",2),b.Sb(1,"nb-card-header"),b.xc(2,"Artifacts"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"ul"),b.vc(5,q,15,8,"li",18),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(5),b.hc("ngForOf",n.artifacts)}}function Z(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr"),b.Sb(1,"td"),b.xc(2),b.Rb(),b.Sb(3,"td"),b.xc(4),b.Rb(),b.Sb(5,"td"),b.Sb(6,"button",25),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc().addArtifact(e)})),b.xc(7,"Add"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.bc();b.Bb(2),b.zc(" ",i.name," "),b.Bb(2),b.zc(" ",i.powerConsumption," "),b.Bb(2),b.hc("disabled",r.isEdit)}}var $,J=(($=function(){function e(t,i,r){n(this,e),this.projectsService=t,this.fb=i,this.activatedRoute=r}return t(e,[{key:"ngOnInit",value:function(){this.artifactForm=this.fb.group({name:["",u.r.required],powerConsumption:["",u.r.required],summerDay:[!1,u.r.required],summerNight:[!1,u.r.required],winterDay:[!1,u.r.required],winterNight:[!1,u.r.required]}),this._projectManager=new P(parseInt(this.activatedRoute.snapshot.params.projectId),this.projectsService),this.environment=this.activatedRoute.snapshot.params.environment,this.isEdit=!1}},{key:"project",value:function(){return this._projectManager.getProject()}},{key:"saveArtifact",value:function(){if(this.artifactForm.invalid)alert("the form is invalid");else{var e=this._projectManager.surfaceManager(this.environment);if(this.isEdit)e.udpateArtifact(new O(this.artifactForm.value));else{var t=this.artifactForm.value;e.addArtifact(t.name,t.powerConsumption,t.summerDay,t.summerNight,t.winterDay,t.winterNight)}this._projectManager.udpateSurface(e.getSurface()),this.cleanForm()}}},{key:"cleanForm",value:function(){this.isEdit=!1,this.artifactForm.reset(),this._projectManager=new P(this._projectManager.getProject().id,this.projectsService)}},{key:"editArtifact",value:function(e){var t=this._projectManager.surfaceManager(this.environment);this.selectedArtifact=t.getArtifact(e),this.artifactForm.patchValue(this.selectedArtifact),this.artifactForm.markAsDirty(),this.isEdit=!0}},{key:"addArtifact",value:function(e){this.artifactForm.patchValue(e),this.artifactForm.markAsDirty()}},{key:"deleteArtifact",value:function(e){var t=this._projectManager.surfaceManager(this.environment);t.deleteArtifact(e),this._projectManager.udpateSurface(t.getSurface()),this.cleanForm()}},{key:"isFormInvalid",value:function(){return this.artifactForm.controls.name.hasError("required")||this.artifactForm.controls.powerConsumption.hasError("required")||this.artifactForm.controls.summerDay.hasError("required")||this.artifactForm.controls.summerNight.hasError("required")||this.artifactForm.controls.winterDay.hasError("required")||this.artifactForm.controls.winterNight.hasError("required")}},{key:"isDirty",value:function(){return this.artifactForm.dirty}},{key:"commonArtifacts",value:function(){return z.commonArtifacts}},{key:"artifacts",get:function(){return new x(this._projectManager.getSurface(this.environment)).artifacts}}]),e}()).\u0275fac=function(e){return new(e||$)(b.Mb(l),b.Mb(u.b),b.Mb(a.a))},$.\u0275cmp=b.Gb({type:$,selectors:[["artifacts"]],decls:43,vars:10,consts:[[1,"row"],[1,"col-md-12"],["accent","info",1,"inline-form-card"],["nbButton","","outline","","status","info",3,"routerLink"],[1,"form-inline",3,"formGroup"],["nbInput","","formControlName","name","type","text","placeholder","Name","maxlength","100",3,"readOnly"],["nbInput","","formControlName","powerConsumption","type","number","placeholder","Power Consumption [W]"],["formControlName","summerDay","status","info"],["formControlName","summerNight","status","info"],["formControlName","winterDay","status","info"],["formControlName","winterNight","status","info"],["outline","","nbButton","","status","primary",3,"disabled","click"],["outline","","nbButton","","status","danger",3,"disabled","click"],["accent","info","class","inline-form-card",4,"ngIf"],["accent","warning"],[2,"width","40%"],[2,"width","20%"],[4,"ngFor","ngForOf"],["class","form-inline",4,"ngFor","ngForOf"],[1,"form-inline"],["nbInput","","disabled","","type","text","placeholder","Name",3,"value"],["nbInput","","disabled","","type","number","placeholder","Power Consumption [W]",3,"value"],["disabled","","status","info",3,"checked"],["nbButton","","outline","","status","primary",3,"disabled","click"],["nbButton","","outline","","status","danger",3,"disabled","click"],["nbButton","","outline","","status","success",3,"disabled","click"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"nb-card",2),b.Sb(3,"nb-card-header"),b.xc(4),b.Sb(5,"a",3),b.xc(6,"Back to Surfaces"),b.Rb(),b.Rb(),b.Sb(7,"nb-card-body"),b.Sb(8,"form",4),b.Nb(9,"input",5),b.Nb(10,"input",6),b.Sb(11,"nb-toggle",7),b.xc(12,"Consume In Summer Day"),b.Rb(),b.Sb(13,"nb-toggle",8),b.xc(14,"Consume In Summer Night"),b.Rb(),b.Sb(15,"nb-toggle",9),b.xc(16,"Consume In Winter Day"),b.Rb(),b.Sb(17,"nb-toggle",10),b.xc(18,"Consume In Winter Night"),b.Rb(),b.Sb(19,"button",11),b.Zb("click",(function(){return t.saveArtifact()})),b.xc(20),b.Rb(),b.Sb(21,"button",12),b.Zb("click",(function(){return t.cleanForm()})),b.xc(22),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(23,"div",0),b.Sb(24,"div",1),b.vc(25,W,6,1,"nb-card",13),b.Rb(),b.Rb(),b.Sb(26,"div",0),b.Sb(27,"div",1),b.Sb(28,"nb-card",14),b.Sb(29,"nb-card-header"),b.xc(30,"Common Artifacts"),b.Rb(),b.Sb(31,"nb-card-body"),b.Sb(32,"table"),b.Sb(33,"thead"),b.Sb(34,"tr"),b.Sb(35,"th",15),b.xc(36,"Artifact Name"),b.Rb(),b.Sb(37,"th",16),b.xc(38,"Power"),b.Rb(),b.Sb(39,"th",16),b.xc(40,"Action"),b.Rb(),b.Rb(),b.Rb(),b.Sb(41,"tbody"),b.vc(42,Z,8,3,"tr",17),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Bb(4),b.zc(" Artifact for environment: ",t.environment," "),b.Bb(1),b.hc("routerLink","../../../surfaces/"+t.project().id),b.Bb(3),b.hc("formGroup",t.artifactForm),b.Bb(1),b.hc("readOnly",t.isEdit),b.Bb(10),b.hc("disabled",t.isFormInvalid()),b.Bb(1),b.yc(t.isEdit?"Update Artifact":"Save Artifact"),b.Bb(1),b.hc("disabled",!t.isDirty()),b.Bb(1),b.yc(t.isEdit?"Cancel":"Clean"),b.Bb(3),b.hc("ngIf",(null==t.artifacts?null:t.artifacts.length)>0),b.Bb(17),b.hc("ngForOf",t.commonArtifacts()))},directives:[m.j,m.k,m.g,a.f,m.i,u.s,u.k,u.d,m.v,u.a,u.j,u.c,u.f,u.n,m.T,c.m,c.l],styles:[".form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #13132b;padding:.5rem 1rem;margin:0 1.5rem 1.5rem 0}"]}),$);function K(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",18),b.Zb("click",(function(){return b.nc(n),b.bc().cleanForm()})),b.xc(1,"Cancel"),b.Rb()}}function X(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",19),b.Nb(1,"input",30),b.Nb(2,"input",31),b.Nb(3,"input",32),b.Nb(4,"input",33),b.Nb(5,"input",34),b.Nb(6,"input",35),b.Nb(7,"input",36),b.Nb(8,"input",37),b.Nb(9,"input",38),b.Sb(10,"button",39),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).editCircuit(e.name)})),b.xc(11,"Edit"),b.Rb(),b.Sb(12,"button",40),b.xc(13,"Fix"),b.Rb(),b.Sb(14,"button",41),b.Zb("click",(function(){b.nc(n);var e=t.$implicit;return b.bc(2).deleteCircuit(e.name)})),b.xc(15,"Delete"),b.Rb(),b.Rb()}if(2&e){var i,r=t.$implicit,o=b.bc(2);b.Bb(1),b.hc("value",r.name),b.Bb(1),b.hc("value",r.circuitType),b.Bb(1),b.hc("status",r.numberOfMouths<=o.maxNumberOfMouths(r.name)?"success":"danger")("value",r.numberOfMouths),b.Bb(1),b.hc("value",r.length),b.Bb(1),b.hc("value",o.powerLoad(r.name)),b.Bb(1),b.hc("value",o.current(r.name)),b.Bb(1),b.hc("value",o.nominalSection(r.name)),b.Bb(1),b.hc("status",o.isValidTension(r.name)?"success":"danger")("value",o.calculateTensionDrop(r.name)),b.Bb(1),b.hc("status",o.isValidProtection(r.name,o.calculateProtection(r.name))?"success":"danger")("value",null==(i=o.calculateProtection(r.name))?null:i.protectionType),b.Bb(1),b.hc("disabled",o.isEdit),b.Bb(2),b.hc("disabled",o.isEdit)("routerLink","./fix/"+r.name),b.Bb(2),b.hc("disabled",o.isEdit)}}function Q(e,t){if(1&e&&(b.Sb(0,"nb-card",2),b.Sb(1,"nb-card-header"),b.xc(2,"Circuits"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"ul"),b.Sb(5,"li",19),b.Nb(6,"input",20),b.Nb(7,"input",21),b.Nb(8,"input",22),b.Nb(9,"input",23),b.Nb(10,"input",24),b.Nb(11,"input",25),b.Nb(12,"input",26),b.Nb(13,"input",27),b.Nb(14,"input",28),b.Rb(),b.Rb(),b.Sb(15,"ul"),b.vc(16,X,16,16,"li",29),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(16),b.hc("ngForOf",n.project().circuits)}}function Y(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.xc(2),b.Rb(),b.Sb(3,"td"),b.xc(4),b.Rb(),b.Rb()),2&e){var n=t.$implicit;b.Bb(2),b.zc(" ",n.nominalSection," "),b.Bb(2),b.zc(" ",n.allowableCurrentIntensityInPipes," ")}}function ee(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.xc(2),b.Rb(),b.Sb(3,"td"),b.xc(4),b.Rb(),b.Rb()),2&e){var n=t.$implicit;b.Bb(2),b.zc(" ",n.circuitType," "),b.Bb(2),b.zc(" <= ",n.maxTensionDrop," % ")}}function te(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.xc(2),b.Rb(),b.Sb(3,"td"),b.xc(4),b.Rb(),b.Rb()),2&e){var n=t.$implicit;b.Bb(2),b.zc(" ",n.circuitType," "),b.Bb(2),b.zc(" >= ",n.minSectionNominal," mm2 ")}}function ne(e,t){if(1&e&&(b.Sb(0,"nb-card",42),b.Sb(1,"nb-card-header"),b.xc(2,"References"),b.Rb(),b.Sb(3,"nb-card-body"),b.Sb(4,"div",43),b.Sb(5,"div",1),b.Sb(6,"nb-card",44),b.Sb(7,"nb-card-header"),b.xc(8,"Number of Mouths"),b.Rb(),b.Sb(9,"nb-card-body"),b.Sb(10,"table"),b.Sb(11,"thead"),b.Sb(12,"tr"),b.Sb(13,"th",45),b.xc(14,"Circuit Type"),b.Rb(),b.Sb(15,"th",45),b.xc(16,"Designation"),b.Rb(),b.Sb(17,"th",45),b.xc(18,"Maximum Number of Mouths"),b.Rb(),b.Sb(19,"th",45),b.xc(20,"Power Load"),b.Rb(),b.Sb(21,"th",45),b.xc(22,"Factor Load"),b.Rb(),b.Rb(),b.Rb(),b.Sb(23,"tbody"),b.Sb(24,"tr"),b.Sb(25,"td"),b.xc(26),b.Rb(),b.Sb(27,"td"),b.xc(28," General purpose lighting "),b.Rb(),b.Sb(29,"td"),b.xc(30," 15 "),b.Rb(),b.Sb(31,"td"),b.xc(32," 810 "),b.Rb(),b.Sb(33,"td"),b.xc(34," 0,66 "),b.Rb(),b.Rb(),b.Sb(35,"tr"),b.Sb(36,"td"),b.xc(37),b.Rb(),b.Sb(38,"td"),b.xc(39," General purpose sockets "),b.Rb(),b.Sb(40,"td"),b.xc(41," 15 "),b.Rb(),b.Sb(42,"td"),b.xc(43," 1980 "),b.Rb(),b.Sb(44,"td"),b.xc(45," 1 "),b.Rb(),b.Rb(),b.Sb(46,"tr"),b.Sb(47,"td"),b.xc(48),b.Rb(),b.Sb(49,"td"),b.xc(50," Special use lighting "),b.Rb(),b.Sb(51,"td"),b.xc(52," 12 "),b.Rb(),b.Sb(53,"td"),b.xc(54," 1980 "),b.Rb(),b.Sb(55,"td"),b.xc(56," 1 "),b.Rb(),b.Rb(),b.Sb(57,"tr"),b.Sb(58,"td"),b.xc(59),b.Rb(),b.Sb(60,"td"),b.xc(61," Special purpose sockets "),b.Rb(),b.Sb(62,"td"),b.xc(63," 12 "),b.Rb(),b.Sb(64,"td"),b.xc(65," 1980 "),b.Rb(),b.Sb(66,"td"),b.xc(67," 1 "),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(68,"div",43),b.Sb(69,"div",1),b.Sb(70,"nb-card",46),b.Sb(71,"nb-card-header"),b.xc(72,"Simultaneity Coefficient"),b.Rb(),b.Sb(73,"nb-card-body"),b.Sb(74,"table"),b.Sb(75,"thead"),b.Sb(76,"tr"),b.Sb(77,"th",45),b.xc(78,"Electrification Degree"),b.Rb(),b.Sb(79,"th",45),b.xc(80,"Simultaneity Coefficient"),b.Rb(),b.Rb(),b.Rb(),b.Sb(81,"tbody"),b.Sb(82,"tr"),b.Sb(83,"td"),b.xc(84),b.Rb(),b.Sb(85,"td"),b.xc(86," 1 "),b.Rb(),b.Rb(),b.Sb(87,"tr"),b.Sb(88,"td"),b.xc(89),b.Rb(),b.Sb(90,"td"),b.xc(91," 0,9 "),b.Rb(),b.Rb(),b.Sb(92,"tr"),b.Sb(93,"td"),b.xc(94),b.Rb(),b.Sb(95,"td"),b.xc(96," 0,8 "),b.Rb(),b.Rb(),b.Sb(97,"tr"),b.Sb(98,"td"),b.xc(99),b.Rb(),b.Sb(100,"td"),b.xc(101," 0,7 "),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(102,"div",43),b.Sb(103,"div",1),b.Sb(104,"nb-card",47),b.Sb(105,"nb-card-header"),b.xc(106,"Technical Features"),b.Rb(),b.Sb(107,"nb-card-body"),b.Sb(108,"table"),b.Sb(109,"thead"),b.Sb(110,"tr"),b.Sb(111,"th",45),b.xc(112,"Nominal Section"),b.Rb(),b.Sb(113,"th",45),b.xc(114,"Allowable CurrentIntensity In Pipes"),b.Rb(),b.Rb(),b.Rb(),b.Sb(115,"tbody"),b.vc(116,Y,5,2,"tr",48),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(117,"div",43),b.Sb(118,"div",1),b.Sb(119,"nb-card",47),b.Sb(120,"nb-card-header"),b.xc(121,"Tension Drops"),b.Rb(),b.Sb(122,"nb-card-body"),b.Sb(123,"table"),b.Sb(124,"thead"),b.Sb(125,"tr"),b.Sb(126,"th",45),b.xc(127,"Circuit Type"),b.Rb(),b.Sb(128,"th",45),b.xc(129,"[e%]"),b.Rb(),b.Rb(),b.Rb(),b.Sb(130,"tbody"),b.vc(131,ee,5,2,"tr",48),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(132,"div",43),b.Sb(133,"div",1),b.Sb(134,"nb-card",47),b.Sb(135,"nb-card-header"),b.xc(136,"Nominal Sections"),b.Rb(),b.Sb(137,"nb-card-body"),b.Sb(138,"table"),b.Sb(139,"thead"),b.Sb(140,"tr"),b.Sb(141,"th",45),b.xc(142,"Circuit Type"),b.Rb(),b.Sb(143,"th",45),b.xc(144,"Nominal Section"),b.Rb(),b.Rb(),b.Rb(),b.Sb(145,"tbody"),b.vc(146,te,5,2,"tr",48),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.bc();b.Bb(26),b.zc(" ",n.circuitType("IUG")," "),b.Bb(11),b.zc(" ",n.circuitType("TUG")," "),b.Bb(11),b.zc(" ",n.circuitType("IUE")," "),b.Bb(11),b.zc(" ",n.circuitType("TUE")," "),b.Bb(23),b.sc(n.isMinimalElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(2),b.zc(" ",n.electrificationDegree("Minimal")," "),b.Bb(3),b.sc(n.isMediumElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(2),b.zc(" ",n.electrificationDegree("Medium")," "),b.Bb(3),b.sc(n.isHighElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(2),b.zc(" ",n.electrificationDegree("High")," "),b.Bb(3),b.sc(n.isUpperElectrificationDegree()?"color: #00d68f; border-color: #00d68f; background-color: rgba(0, 214, 143, 0.08)":""),b.Bb(2),b.zc(" ",n.electrificationDegree("Upper")," "),b.Bb(17),b.hc("ngForOf",n.technicalFeatures()),b.Bb(15),b.hc("ngForOf",n.tensionDrops()),b.Bb(15),b.hc("ngForOf",n.sectionNominals())}}function ie(e,t){if(1&e&&(b.Sb(0,"nb-option",24),b.xc(1),b.Rb()),2&e){var n=t.$implicit;b.hc("value",n),b.Bb(1),b.yc(n)}}function re(e,t){if(1&e&&(b.Sb(0,"nb-option",24),b.xc(1),b.Rb()),2&e){var n=t.$implicit;b.hc("value",n),b.Bb(1),b.yc(n)}}var oe,ce,ae,ue,se=[{path:"",component:v},{path:"surfaces/:projectId",component:H},{path:"circuits/:projectId",component:(ce=function(){function e(t,i,r){n(this,e),this.projectsService=t,this.fb=i,this.activatedRoute=r}return t(e,[{key:"ngOnInit",value:function(){this.circuitForm=this.fb.group({name:["",u.r.required],circuitType:["",u.r.required],numberOfMouths:["",u.r.required],length:["",u.r.required]}),this._projectManager=new P(parseInt(this.activatedRoute.snapshot.params.projectId),this.projectsService),this.isEdit=!1;var e=N.protections.find((function(e){return e.protectionType==D.C05}));this.maxProtectionCalculated=e}},{key:"project",value:function(){return this._projectManager.getProject()}},{key:"maxNumberOfMouths",value:function(e){return this._projectManager.circuitManager(e).maxNumberOfMouths()}},{key:"saveCircuit",value:function(){if(this.circuitForm.invalid)alert("the form is invalid");else{if(this.isEdit){var e=this.circuitForm.value;this.selectedCircuit.circuitType=e.circuitType,this.selectedCircuit.numberOfMouths=e.numberOfMouths,this.selectedCircuit.length=e.length,this._projectManager.udpateCircuit(new C(this.selectedCircuit))}else{var t=this.circuitForm.value;this._projectManager.addCircuit(t.name,t.circuitType,t.numberOfMouths,t.length)}this.cleanForm()}}},{key:"cleanForm",value:function(){this.isEdit=!1,this.circuitForm.controls.name.setValue(""),this.circuitForm.controls.circuitType.setValue(""),this.circuitForm.controls.numberOfMouths.setValue(""),this.circuitForm.controls.length.setValue(""),this._projectManager=new P(this._projectManager.getProject().id,this.projectsService)}},{key:"editCircuit",value:function(e){this.selectedCircuit=this._projectManager.getCircuit(e),this.circuitForm.patchValue(this.selectedCircuit),this.isEdit=!0}},{key:"deleteCircuit",value:function(e){this._projectManager.deleteCircuit(e),this.cleanForm()}},{key:"isFormInvalid",value:function(){return this.circuitForm.controls.name.hasError("required")||this.circuitForm.controls.circuitType.hasError("required")||this.circuitForm.controls.numberOfMouths.hasError("required")||this.circuitForm.controls.length.hasError("required")}},{key:"isCircuitTypeEditable",value:function(){return this.isEdit?this.circuitForm.controls.circuitType.value!=w.LAP:!this.isEdit}},{key:"circuitType",value:function(e){return e}},{key:"powerLoad",value:function(e){var t=this._projectManager.circuitManager(e);return t.isLap()?this._projectManager.circuitLAPTotal():t.powerLoad()}},{key:"current",value:function(e){var t=this._projectManager.circuitManager(e);return t.isLap()?this._projectManager.currentCalculatedLAP():t.currentCalculated()}},{key:"isMinimalElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Minimal}},{key:"isMediumElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Medium}},{key:"isHighElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.High}},{key:"isUpperElectrificationDegree",value:function(){return this._projectManager.electrificationDegree()==y.Upper}},{key:"electrificationDegree",value:function(e){return e}},{key:"nominalSection",value:function(e){var t=this._projectManager.circuitManager(e),n=t.getCircuit();if(n.fix)return n.fix.nominalSection;var i=this.current(e),r=this._projectManager.nominalSectionByCurrentIntensity(i),o=I.sectionNominals.find((function(e){return e.circuitType==n.circuitType}));return this._projectManager.validateNominalSection(this.technicalFeatures(),n.circuitType,n.length,o&&r>o.minSectionNominal?r:o.minSectionNominal,t.powerLoad(),t.isLap())}},{key:"technicalFeatures",value:function(){return M.tecnicalFeatures}},{key:"calculateTensionDrop",value:function(e){var t=this._projectManager.circuitManager(e).getCircuit();if(t.fix)return t.fix.tensionDrop;var n=this.nominalSection(t.name),i=this.powerLoad(e);return this._projectManager.calcuteTensionDrop(t.length,n,i)}},{key:"tensionDrops",value:function(){return E.tensionDrops}},{key:"tensionDrop",value:function(e){var t=E.tensionDrops.find((function(t){return t.circuitType==e}));return(null==t?void 0:t.maxTensionDrop)||0}},{key:"isValidTension",value:function(e){var t=this._projectManager.circuitManager(e);return this.calculateTensionDrop(e)<=this.tensionDrop(t.getCircuit().circuitType)}},{key:"sectionNominals",value:function(){return I.sectionNominals}},{key:"calculateProtection",value:function(e){var t=this._projectManager.circuitManager(e),n=t.getCircuit();if(n.fix)return N.protections.find((function(e){return n.fix.protectionType==e.protectionType}));var i=this.current(e),r=this._projectManager.calculateProtection(i,t.isLap());if(!this.isValidProtection(t.getCircuit().name,r)){var o=this.nominalSection(t.getCircuit().name),c=M.tecnicalFeatures.find((function(e){return e.nominalSection==o}));Math.abs(c.allowableCurrentIntensityInPipes-i)<1&&(r=this._projectManager.calculateProtection(c.allowableCurrentIntensityInPipes,t.isLap()))}return t.isLap()&&r.protectionValue<this.maxProtectionCalculated.protectionValue&&(r=this.findNextProtection(t.getCircuit().name,this.maxProtectionCalculated)),!t.isLap()&&this.maxProtectionCalculated.protectionValue<r.protectionValue&&(this.maxProtectionCalculated=r),r}},{key:"findNextProtection",value:function(e,t){var n=this,i=this._projectManager.circuitManager(e);if(i.getCircuit().circuitType==w.LAP){var r=N.protections.find((function(e){return e.protectionValue>n.maxProtectionCalculated.protectionValue}));if(this.isValidProtection(i.getCircuit().name,r))return r}return t}},{key:"isValidProtection",value:function(e,t){var n=this._projectManager.circuitManager(e),i=this.nominalSection(n.getCircuit().name),r=this.current(e),o=M.tecnicalFeatures.find((function(e){return e.nominalSection==i})).allowableCurrentIntensityInPipes,c=t;return r<parseFloat((1.13*c.protectionValue).toFixed(2))&&c.protectionValue<=o}}]),e}(),ce.\u0275fac=function(e){return new(e||ce)(b.Mb(l),b.Mb(u.b),b.Mb(a.a))},ce.\u0275cmp=b.Gb({type:ce,selectors:[["circuits"]],decls:32,vars:9,consts:[[1,"row"],[1,"col-md-12"],["accent","info",1,"inline-form-card"],["nbButton","","outline","","status","info",3,"routerLink"],[1,"form-inline",3,"formGroup"],["nbInput","","formControlName","name","type","text","placeholder","Name","maxlength","100",3,"readonly"],["placeholder","Choose a circuit type","formControlName","circuitType"],["value","IUG"],["value","TUG"],["value","IUE"],["value","TUE"],["value","LAP"],["nbInput","","formControlName","numberOfMouths","type","number","placeholder","Number Of Mouths",3,"readonly"],["nbInput","","formControlName","length","type","number","placeholder","Length [m]"],["outline","","nbButton","","status","primary",3,"disabled","click"],["outline","","nbButton","","status","danger",3,"click",4,"ngIf"],["accent","info","class","inline-form-card",4,"ngIf"],["accent","info",4,"ngIf"],["outline","","nbButton","","status","danger",3,"click"],[1,"form-inline"],["nbInput","","disabled","","type","text","value","Name",1,"input-inline-name"],["nbInput","","disabled","","type","text","value","Circuit Type",1,"input-inline-circuit-type"],["nbInput","","disabled","","type","text","placeholder","Mouths","value","Mouths",1,"input-inline-mouths"],["nbInput","","disabled","","type","text","placeholder","Length","value","Length [m]",1,"input-inline-length"],["nbInput","","disabled","","type","text","placeholder","Power [W]","value","Power [W]",1,"input-inline-power"],["nbInput","","disabled","","type","text","placeholder","Current [A]","value","Current [A]",1,"input-inline-current"],["nbInput","","disabled","","type","text","placeholder","Section [mm2]","value","Section [mm2]",1,"input-inline-section"],["nbInput","","disabled","","type","text","placeholder","[e%]","value","[e%]",1,"input-inline-tension"],["nbInput","","disabled","","type","text","placeholder","Protection","value","Protection",1,"input-inline-protection"],["class","form-inline",4,"ngFor","ngForOf"],["nbInput","","disabled","","type","text","placeholder","Name",1,"input-inline-name",3,"value"],["nbInput","","disabled","","type","text","placeholder","Circuit Type",1,"input-inline-circuit-type",3,"value"],["nbInput","","readonly","","type","number","placeholder","Number Of Mouths",1,"input-inline-mouths",3,"status","value"],["nbInput","","disabled","","type","number","placeholder","Length",1,"input-inline-length",3,"value"],["nbInput","","disabled","","type","number","placeholder","Power [W]",1,"input-inline-power",3,"value"],["nbInput","","disabled","","type","text","placeholder","Current [A]",1,"input-inline-current",3,"value"],["nbInput","","disabled","","type","text","placeholder","Section [mm2]",1,"input-inline-section",3,"value"],["nbInput","","readonly","","type","text","placeholder","[e%]",1,"input-inline-tension",3,"status","value"],["nbInput","","readonly","","type","text","placeholder","Protection",1,"input-inline-protection",3,"status","value"],["nbButton","","outline","","status","primary",3,"disabled","click"],["nbButton","","outline","","status","warning",3,"disabled","routerLink"],["nbButton","","outline","","status","danger",3,"disabled","click"],["accent","info"],[1,"form-group","row","form-horizontal"],["accent","danger"],[2,"width","20%"],["accent","success"],["accent","warning"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"nb-card",2),b.Sb(3,"nb-card-header"),b.xc(4,"Circuit "),b.Sb(5,"a",3),b.xc(6,"Back to Proyects"),b.Rb(),b.Rb(),b.Sb(7,"nb-card-body"),b.Sb(8,"form",4),b.Nb(9,"input",5),b.Sb(10,"nb-select",6),b.Sb(11,"nb-option",7),b.xc(12,"IUG"),b.Rb(),b.Sb(13,"nb-option",8),b.xc(14,"TUG"),b.Rb(),b.Sb(15,"nb-option",9),b.xc(16,"IUE"),b.Rb(),b.Sb(17,"nb-option",10),b.xc(18,"TUE"),b.Rb(),b.Sb(19,"nb-option",11),b.xc(20,"LAP"),b.Rb(),b.Rb(),b.Nb(21,"input",12),b.Nb(22,"input",13),b.Sb(23,"button",14),b.Zb("click",(function(){return t.saveCircuit()})),b.xc(24),b.Rb(),b.vc(25,K,2,0,"button",15),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(26,"div",0),b.Sb(27,"div",1),b.vc(28,Q,17,1,"nb-card",16),b.Rb(),b.Rb(),b.Sb(29,"div",0),b.Sb(30,"div",1),b.vc(31,ne,147,19,"nb-card",17),b.Rb(),b.Rb()),2&e&&(b.Bb(5),b.hc("routerLink","../../../projects"),b.Bb(3),b.hc("formGroup",t.circuitForm),b.Bb(1),b.hc("readonly",t.isEdit),b.Bb(12),b.hc("readonly",!t.isCircuitTypeEditable()),b.Bb(2),b.hc("disabled",t.isFormInvalid()),b.Bb(1),b.yc(t.isEdit?"Update Circuit":"Save Circuit"),b.Bb(1),b.hc("ngIf",t.isEdit),b.Bb(3),b.hc("ngIf",(null==t.project().circuits?null:t.project().circuits.length)>0),b.Bb(3),b.hc("ngIf",(null==t.project().circuits?null:t.project().circuits.length)>0))},directives:[m.j,m.k,m.g,a.f,m.i,u.s,u.k,u.d,m.v,u.a,u.j,u.c,u.f,m.K,m.I,u.n,c.m,c.l,a.d],styles:[".form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}.input-inline-name[_ngcontent-%COMP%]{width:5rem}.input-inline-circuit-type[_ngcontent-%COMP%]{width:7.5rem}.input-inline-mouths[_ngcontent-%COMP%]{width:5.5rem}.input-inline-length[_ngcontent-%COMP%]{width:7rem}.input-inline-power[_ngcontent-%COMP%]{width:6.8rem}.input-inline-current[_ngcontent-%COMP%]{width:7rem}.input-inline-section[_ngcontent-%COMP%]{width:9rem}.input-inline-tension[_ngcontent-%COMP%]{width:4rem}.input-inline-protection[_ngcontent-%COMP%]{width:7rem}span.text[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}span.text[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #13132b;padding:.5rem 1rem;margin:0 1.5rem 1.5rem 0}"]}),ce)},{path:"circuits/:projectId/fix/:circuitName",component:(oe=function(){function e(t,i,r){n(this,e),this.projectsService=t,this.activatedRoute=i,this.fb=r}return t(e,[{key:"ngOnInit",value:function(){this.protectionForm=this.fb.group({nominalSection:["",u.r.required],tensionDrop:["",u.r.required],protectionType:["",u.r.required]}),this._projectManager=new P(parseInt(this.activatedRoute.snapshot.params.projectId),this.projectsService),this._circuitName=this.activatedRoute.snapshot.params.circuitName;var e=this._projectManager.circuitManager(this._circuitName).getCircuit();e.fix&&this.protectionForm.patchValue(e.fix)}},{key:"saveFix",value:function(){var e=this._projectManager.circuitManager(this._circuitName).getCircuit();e&&(e.setfix(this.protectionForm.value),this._projectManager.udpateCircuit(e))}},{key:"isFormInvalid",value:function(){return this.protectionForm.controls.nominalSection.hasError("required")||this.protectionForm.controls.tensionDrop.hasError("required")||this.protectionForm.controls.protectionType.hasError("required")}},{key:"isValidProtection",value:function(){if(!this.isInvalidNominalSection&&!this.isInvalidProtectionType){var e=this.current;return e<this.i1&&this.in<=this.iz&&e<this.in}return!1}},{key:"tensionDrop",value:function(){if(!this.isInvalidNominalSection){var e=this._projectManager.circuitManager(this._circuitName).getCircuit(),t=E.tensionDrops.find((function(t){return t.circuitType==e.circuitType}));return(null==t?void 0:t.maxTensionDrop)||0}return 0}},{key:"circuit",get:function(){return this._projectManager.getCircuit(this._circuitName)}},{key:"powerLoad",get:function(){var e=this._projectManager.circuitManager(this._circuitName);return e.isLap()?this._projectManager.circuitLAPTotal():e.powerLoad()}},{key:"current",get:function(){var e=this._projectManager.circuitManager(this._circuitName);return e.isLap()?this._projectManager.currentCalculatedLAP():e.currentCalculated()}},{key:"nominalSections",get:function(){return M.tecnicalFeatures.map((function(e){return e.nominalSection}))}},{key:"isInvalidNominalSection",get:function(){return this.protectionForm.controls.nominalSection.hasError("required")}},{key:"isInvalidProtectionType",get:function(){return this.protectionForm.controls.protectionType.hasError("required")}},{key:"calculateTensionDrop",get:function(){var e=100;if(!this.isInvalidNominalSection){var t=this._projectManager.circuitManager(this._circuitName).getCircuit(),n=parseFloat(this.protectionForm.get("nominalSection").value);e=this._projectManager.calcuteTensionDrop(t.length,n,this.powerLoad)}return this.protectionForm.controls.tensionDrop.setValue(e),e}},{key:"protectionTypes",get:function(){return N.protections.map((function(e){return e.protectionType}))}},{key:"isValidTension",get:function(){return this.isInvalidNominalSection?!this.isInvalidNominalSection:this.calculateTensionDrop<=this.tensionDrop()}},{key:"in",get:function(){if(!this.isInvalidNominalSection&&!this.isInvalidProtectionType){var e=this.protectionForm.get("protectionType").value;return N.protections.find((function(t){return t.protectionType==e})).protectionValue}return 0}},{key:"i1",get:function(){return this.isInvalidNominalSection||this.isInvalidProtectionType?0:parseFloat((1.13*this.in).toFixed(2))}},{key:"iz",get:function(){if(!this.isInvalidNominalSection&&!this.isInvalidProtectionType){var e=parseFloat(this.protectionForm.get("nominalSection").value);return M.tecnicalFeatures.find((function(t){return t.nominalSection==e})).allowableCurrentIntensityInPipes}return 0}},{key:"isValidNominalSection",get:function(){if(!this.isInvalidNominalSection){var e=this._projectManager.circuitManager(this._circuitName).getCircuit();return parseFloat(this.protectionForm.get("nominalSection").value)>=I.sectionNominals.find((function(t){return t.circuitType==e.circuitType})).minSectionNominal}return!1}}]),e}(),oe.\u0275fac=function(e){return new(e||oe)(b.Mb(l),b.Mb(a.a),b.Mb(u.b))},oe.\u0275cmp=b.Gb({type:oe,selectors:[["fix"]],decls:110,vars:22,consts:[[1,"row"],[1,"col-md-12"],["accent","info"],["nbButton","","outline","","status","info",3,"routerLink"],[3,"formGroup"],[1,"form-group","row","form-horizontal"],[1,"col-md-5"],[1,"form-group","row"],[1,"col-md-7"],["nbInput","","readonly","","type","text","placeholder","Name",3,"value"],[1,"text"],["nbInput","","readonly","","type","text","placeholder","Circuit Type",3,"value"],["nbInput","","readonly","","type","number","placeholder","Number Of Mouths",3,"value"],["nbInput","","readonly","","type","number","placeholder","Length [m]",3,"value"],["nbInput","","readonly","","type","number","placeholder","Power [W]",3,"value"],["nbInput","","readonly","","type","number","placeholder","Current [A]",3,"value"],["placeholder","Choose a section","formControlName","nominalSection",3,"status"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","readonly","isValidNominalSection","formControlName","tensionDrop","type","number","placeholder","e%",3,"status","value"],["placeholder","Choose a section","formControlName","protectionType",3,"status"],[1,"col-md-7","offset-md-5"],["outline","","nbButton","","status","primary",3,"disabled","click"],["accent","warning"],[2,"width","10%"],[3,"value"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"nb-card",2),b.Sb(3,"nb-card-header"),b.xc(4,"Totals "),b.Sb(5,"a",3),b.xc(6,"Back to circuits"),b.Rb(),b.Rb(),b.Sb(7,"nb-card-body"),b.Sb(8,"form",4),b.Sb(9,"div",5),b.Sb(10,"div",6),b.Sb(11,"div",7),b.Sb(12,"div",6),b.Sb(13,"span"),b.xc(14,"Name: "),b.Rb(),b.Rb(),b.Sb(15,"div",8),b.Nb(16,"input",9),b.Rb(),b.Rb(),b.Sb(17,"div",7),b.Sb(18,"div",6),b.Sb(19,"span",10),b.xc(20,"Circuit Type: "),b.Rb(),b.Rb(),b.Sb(21,"div",8),b.Nb(22,"input",11),b.Rb(),b.Rb(),b.Sb(23,"div",7),b.Sb(24,"div",6),b.Sb(25,"span",10),b.xc(26,"Number Of Mouths: "),b.Rb(),b.Rb(),b.Sb(27,"div",8),b.Nb(28,"input",12),b.Rb(),b.Rb(),b.Sb(29,"div",7),b.Sb(30,"div",6),b.Sb(31,"span",10),b.xc(32,"Length [m]: "),b.Rb(),b.Rb(),b.Sb(33,"div",8),b.Nb(34,"input",13),b.Rb(),b.Rb(),b.Sb(35,"div",7),b.Sb(36,"div",6),b.Sb(37,"span",10),b.xc(38,"Power [W]: "),b.Rb(),b.Rb(),b.Sb(39,"div",8),b.Nb(40,"input",14),b.Rb(),b.Rb(),b.Sb(41,"div",7),b.Sb(42,"div",6),b.Sb(43,"span",10),b.xc(44,"Current [A]: "),b.Rb(),b.Rb(),b.Sb(45,"div",8),b.Nb(46,"input",15),b.Rb(),b.Rb(),b.Sb(47,"div",7),b.Sb(48,"div",6),b.Sb(49,"span",10),b.xc(50,"Section [mm2]: "),b.Rb(),b.Rb(),b.Sb(51,"div",8),b.Sb(52,"nb-select",16),b.vc(53,ie,2,2,"nb-option",17),b.Rb(),b.Rb(),b.Rb(),b.Sb(54,"div",7),b.Sb(55,"div",6),b.Sb(56,"span",10),b.xc(57,"Tension Drop: "),b.Rb(),b.Rb(),b.Sb(58,"div",8),b.Nb(59,"input",18),b.Rb(),b.Rb(),b.Sb(60,"div",7),b.Sb(61,"div",6),b.Sb(62,"span",10),b.xc(63,"Protection: "),b.Rb(),b.Rb(),b.Sb(64,"div",8),b.Sb(65,"nb-select",19),b.vc(66,re,2,2,"nb-option",17),b.Rb(),b.Rb(),b.Rb(),b.Sb(67,"div",7),b.Sb(68,"div",20),b.Sb(69,"button",21),b.Zb("click",(function(){return t.saveFix()})),b.xc(70,"Save Circuit"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(71,"div",0),b.Sb(72,"div",1),b.Sb(73,"nb-card",22),b.Sb(74,"nb-card-header"),b.xc(75,"Technical Features"),b.Rb(),b.Sb(76,"nb-card-body"),b.Sb(77,"table"),b.Sb(78,"thead"),b.Sb(79,"tr"),b.Sb(80,"th",23),b.xc(81,"ib"),b.Rb(),b.Sb(82,"th",23),b.xc(83,"iz"),b.Rb(),b.Sb(84,"th",23),b.xc(85,"in"),b.Rb(),b.Sb(86,"th",23),b.xc(87,"i1"),b.Rb(),b.Sb(88,"th"),b.xc(89,"Ib < I1"),b.Rb(),b.Sb(90,"th"),b.xc(91,"In <= Iz"),b.Rb(),b.Sb(92,"th"),b.xc(93,"Ib < In"),b.Rb(),b.Rb(),b.Rb(),b.Sb(94,"tbody"),b.Sb(95,"tr"),b.Sb(96,"td"),b.xc(97),b.Rb(),b.Sb(98,"td"),b.xc(99),b.Rb(),b.Sb(100,"td"),b.xc(101),b.Rb(),b.Sb(102,"td"),b.xc(103),b.Rb(),b.Sb(104,"td"),b.xc(105),b.Rb(),b.Sb(106,"td"),b.xc(107),b.Rb(),b.Sb(108,"td"),b.xc(109),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Bb(5),b.hc("routerLink","../../"),b.Bb(3),b.hc("formGroup",t.protectionForm),b.Bb(8),b.hc("value",t.circuit.name),b.Bb(6),b.hc("value",t.circuit.circuitType),b.Bb(6),b.hc("value",t.circuit.numberOfMouths),b.Bb(6),b.hc("value",t.circuit.length),b.Bb(6),b.hc("value",t.powerLoad),b.Bb(6),b.hc("value",t.current),b.Bb(6),b.hc("status",t.isValidNominalSection?"success":"danger"),b.Bb(1),b.hc("ngForOf",t.nominalSections),b.Bb(6),b.hc("status",t.isValidTension?"success":"danger")("value",t.calculateTensionDrop),b.Bb(6),b.hc("status",t.isValidProtection()?"success":"danger"),b.Bb(1),b.hc("ngForOf",t.protectionTypes),b.Bb(3),b.hc("disabled",t.isFormInvalid()),b.Bb(28),b.zc(" ",t.current," "),b.Bb(2),b.zc(" ",t.iz," "),b.Bb(2),b.zc(" ",t.in," "),b.Bb(2),b.zc(" ",t.i1," "),b.Bb(2),b.zc(" ",t.current<t.i1," "),b.Bb(2),b.zc(" ",t.in<=t.iz," "),b.Bb(2),b.zc(" ",t.current<t.in," "))},directives:[m.j,m.k,m.g,a.f,m.i,u.s,u.k,u.d,m.v,m.K,u.j,u.c,c.l,u.a,u.n,m.I],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #13132b;padding:.5rem 1rem;margin:0 1.5rem 1.5rem 0}"]}),oe)},{path:"artifacts/:projectId/:environment",component:J}],be=((ue=function e(){n(this,e)}).\u0275mod=b.Kb({type:ue}),ue.\u0275inj=b.Jb({factory:function(e){return new(e||ue)},imports:[[a.g.forChild(se)],a.g]}),ue),le=((ae=function e(){n(this,e)}).\u0275mod=b.Kb({type:ae}),ae.\u0275inj=b.Jb({factory:function(e){return new(e||ae)},imports:[[c.c,be,m.l,m.P,u.e,m.h,u.p,m.w,m.L,m.U]]}),ae)},dgmN:function(e,t,i){"use strict";i.r(t),i.d(t,"PagesModule",(function(){return f}));var r,o,c,a=i("aceb"),u=i("vTDv"),s=i("tyNb"),b=[{title:"Projects",icon:"home-outline",link:"/pages/projects",home:!0}],l=i("fXoL"),m=i("mgFL"),d=[{path:"",component:(r=function e(){n(this,e),this.menu=b},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Gb({type:r,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(l.Sb(0,"ngx-one-column-layout"),l.Nb(1,"nb-menu",0),l.Nb(2,"router-outlet"),l.Rb()),2&e&&(l.Bb(1),l.hc("items",t.menu))},directives:[m.a,a.F,s.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),r),children:[{path:"",redirectTo:"projects"},{path:"projects",loadChildren:function(){return Promise.resolve().then(i.bind(null,"0B1/")).then((function(e){return e.ProjectsModule}))}}]}],p=((o=function e(){n(this,e)}).\u0275mod=l.Kb({type:o}),o.\u0275inj=l.Jb({factory:function(e){return new(e||o)},imports:[[s.g.forChild(d)],s.g]}),o),h=i("0B1/"),f=((c=function e(){n(this,e)}).\u0275mod=l.Kb({type:c}),c.\u0275inj=l.Jb({factory:function(e){return new(e||c)},imports:[[p,u.a,a.G,h.ProjectsModule]]}),c)}}])}();